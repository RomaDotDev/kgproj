<h1>Post details</h1>

<button class="btn btn-default" type="submit" [routerLink]="['/']">Back</button>

<div class="panel panel-default">
    <div class="panel-body">
        <ng-container *ngIf="isDetailLoading">Loading details...</ng-container>
        <form *ngIf="!isDetailLoading" class="form-horizontal">
            <div class="form-group">
                <label class="col-sm-2 control-label">userId</label>
                <div class="col-sm-10">
                    <p class="form-control-static">{{ postDetail.userId }}</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">id</label>
                <div class="col-sm-10">
                    <p class="form-control-static">{{ postDetail.id }}</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">title</label>
                <div class="col-sm-10">
                    <p class="form-control-static">{{ postDetail.title }}</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">body</label>
                <div class="col-sm-10">
                    <p class="form-control-static">{{ postDetail.body }}</p>
                </div>
            </div>
        </form>
    </div>
</div>

<h3>Analytics Graph Data</h3>
<hr>

<form [formGroup]="rangeForm" class="row" novalidate>

<!-- TODO: add input debounce or normal datepicker plugin -->
    <div class="form-group col-xs-6">
        <label>From:</label>
        <input formControlName="from"
            placeholder="YYYY-MM-DD"
            class="form-control"
            type="text">
    </div>
    <div class="form-group col-xs-6">
        <label>To:</label>
        <input formControlName="to"
            placeholder="YYYY-MM-DD"
            class="form-control"
            type="text">
    </div>

    <p class="text-danger" *ngIf="rangeForm.controls.to.hasError('pattern')
        || rangeForm.controls.from.hasError('pattern')">
        Please enter a valid date in YYYY-MM-DD format.
    </p>
    <p class="text-danger" *ngIf="rangeForm.controls.to.hasError('required')
        || rangeForm.controls.from.hasError('required')">
        Both dates are mandatory
    </p>

</form>

<ng-container *ngIf="isTrackerLoading">Loading trackers...</ng-container>
<pre *ngIf="!isTrackerLoading">
{{ trackersList | json }}
</pre>
